# Disk Usage Analyzer

<div align="center">

**ä¸€ä¸ªå¼ºå¤§ã€å¿«é€Ÿã€è·¨å¹³å°çš„ç£ç›˜ç©ºé—´åˆ†æå·¥å…·**

[![Python Version](https://img.shields.io/badge/python-3.6+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg)](https://github.com/coo-2022/DiskUsageAnalyzer)

åŠŸèƒ½ä¸°å¯Œ | é›¶ä¾èµ– | æ˜“äºä½¿ç”¨

</div>

## âœ¨ ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“Š **å¿«é€Ÿæ‰«æ** - é«˜æ•ˆéå†ç›®å½•æ ‘ï¼Œç»Ÿè®¡æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å¤§å°
- ğŸ” **æ™ºèƒ½æ’åº** - è‡ªåŠ¨æ‰¾å‡ºå ç”¨ç©ºé—´æœ€å¤§çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶
- ğŸ“ˆ **åˆ†ç±»ç»Ÿè®¡** - æŒ‰æ–‡ä»¶ç±»å‹åˆ†æç©ºé—´å ç”¨æƒ…å†µ
- ğŸ¨ **å¯è§†åŒ–æŠ¥å‘Š** - æ¸…æ™°çš„ç»ˆç«¯è¡¨æ ¼è¾“å‡ºï¼Œå¸¦è¿›åº¦æ¡
- ğŸš€ **ç¼“å­˜æœºåˆ¶** - åŠ é€ŸäºŒæ¬¡æ‰«æï¼Œä¿å­˜æ‰«æç»“æœ
- ğŸ” **é‡å¤æ–‡ä»¶æ£€æµ‹** - æŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´
- ğŸ“Š **CSV/JSONå¯¼å‡º** - å¯¼å‡ºè¯¦ç»†æŠ¥å‘Šç”¨äºæ·±å…¥åˆ†æ
- âš¡ **è·¨å¹³å°æ”¯æŒ** - Windows / macOS / Linux å…¨å¹³å°é€‚é…

### å¹³å°ç‰¹æ€§
- ğŸ”— **ç¬¦å·é“¾æ¥å¤„ç†** - æ™ºèƒ½è¯†åˆ«å’Œå¤„ç†ç¬¦å·é“¾æ¥ï¼ˆLinux/macOSï¼‰
- ğŸ” **inodeä¼˜åŒ–** - ä½¿ç”¨inodeä¿¡æ¯åŠ é€Ÿé‡å¤æ–‡ä»¶æ£€æµ‹ï¼ˆLinux/macOSï¼‰
- ğŸš« **æ™ºèƒ½è·³è¿‡** - è‡ªåŠ¨è·³è¿‡ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿå’Œç³»ç»Ÿç›®å½•
  - **Linux**: `/proc`, `/sys`, `/dev`, `/run`, `/tmp` ç­‰è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
  - **Windows**: ç³»ç»Ÿç›®å½•ã€å›æ”¶ç«™ã€éšè—æ–‡ä»¶ç­‰
  - **macOS**: Spotlightç´¢å¼•ã€FSEventsç­‰ç³»ç»Ÿç›®å½•

### è¾…åŠ©å·¥å…·
- ğŸ¦€ **Rustæ¸…ç†å·¥å…·** - ä¸€é”®æ¸…ç†Rustç¼–è¯‘äº§ç‰©ï¼ˆtargetç›®å½•ï¼‰
- ğŸ§ **WSLåˆ†æå·¥å…·** - æ·±å…¥åˆ†æWSLå’ŒDockerç£ç›˜å ç”¨
- ğŸ“¦ **æ‰¹å¤„ç†è„šæœ¬** - Windowsç”¨æˆ·å¿«é€Ÿåˆ†æå·¥å…·

## ğŸ“¦ å®‰è£…

### è¦æ±‚
- Python 3.6 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ— éœ€é¢å¤–ä¾èµ–ï¼ˆä»…ä½¿ç”¨Pythonæ ‡å‡†åº“ï¼‰

### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/coo-2022/DiskUsageAnalyzer.git
cd disk_usage_analyzer
```

### éªŒè¯å®‰è£…

```bash
python main.py --help
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```bash
# åˆ†æå½“å‰ç›®å½•
python main.py

# åˆ†ææŒ‡å®šç›®å½•ï¼ˆWindowsï¼‰
python main.py C:\

# åˆ†ææŒ‡å®šç›®å½•ï¼ˆLinux/macOSï¼‰
python main.py /home/user

# æ˜¾ç¤ºå‰20ä¸ªç»“æœ
python main.py -n 20

# ä¸æ˜¾ç¤ºè¿›åº¦æ¡ï¼ˆæ›´å¿«çš„è¾“å‡ºï¼‰
python main.py --no-progress
```

### é«˜çº§ç”¨æ³•

#### 1. ä½¿ç”¨ç¼“å­˜åŠ é€Ÿ

```bash
# ç¬¬ä¸€æ¬¡æ‰«æä¼šä¿å­˜ç¼“å­˜
python main.py C:\

# ç¬¬äºŒæ¬¡ä½¿ç”¨ç¼“å­˜ï¼Œå‡ ä¹ç¬é—´å®Œæˆ
python main.py C:\ --cache

# å¼ºåˆ¶é‡æ–°æ‰«æ
python main.py C:\ --no-cache
```

#### 2. æŸ¥æ‰¾é‡å¤æ–‡ä»¶

```bash
# æŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼ˆé»˜è®¤å¤§äº1MBï¼‰
python main.py ~/Downloads --duplicates

# åªæ£€æµ‹å¤§äº10MBçš„æ–‡ä»¶
python main.py ~/Downloads --duplicates --dup-min-size 10

# æŸ¥æ‰¾æ‰€æœ‰é‡å¤æ–‡ä»¶
python main.py ~/Documents --duplicates --dup-min-size 0
```

#### 3. å¯¼å‡ºæŠ¥å‘Š

```bash
# å¯¼å‡ºCSVæ ¼å¼ï¼ˆæ–¹ä¾¿Excelæ‰“å¼€ï¼‰
python main.py C:\ --export-csv

# å¯¼å‡ºJSONæ ¼å¼
python main.py C:\ --export-json report.json

# æŒ‡å®šå¯¼å‡ºç›®å½•
python main.py C:\ --export-csv --export-dir ./reports
```

#### 4. ç»„åˆä½¿ç”¨

```bash
# åˆ†ææ•´ä¸ªDç›˜ï¼Œä½¿ç”¨ç¼“å­˜ï¼ŒæŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼Œå¯¼å‡ºæŠ¥å‘Š
python main.py D:\ --cache --duplicates --export-csv --export-json d_drive_report.json

# å¿«é€ŸæŸ¥çœ‹Top 20å¤§æ–‡ä»¶
python main.py . -n 20 --no-progress
```

## ğŸ› ï¸ è¾…åŠ©å·¥å…·

### 1. Rustæ¸…ç†å·¥å…·

è‡ªåŠ¨æŸ¥æ‰¾å¹¶æ¸…ç†Rusté¡¹ç›®çš„ç¼–è¯‘äº§ç‰©ï¼ˆtargetç›®å½•ï¼‰ï¼š

```bash
# é¢„è§ˆæ¨¡å¼ï¼ˆæŸ¥çœ‹ä¼šåˆ é™¤ä»€ä¹ˆï¼‰
python tools/clean_rust.py ~/code

# æ‰§è¡Œæ¸…ç†ï¼ˆéœ€è¦ç¡®è®¤ï¼‰
python tools/clean_rust.py ~/code --execute

# è‡ªåŠ¨ç¡®è®¤ï¼Œè·³è¿‡æç¤º
python tools/clean_rust.py ~/code --execute --yes
```

### 2. WSLåˆ†æå·¥å…·

åˆ†æWSLå’ŒDockerçš„ç£ç›˜å ç”¨ï¼ˆä»…Windowsï¼‰ï¼š

```bash
# åˆ†æWSL Ubuntuå’ŒDocker
python tools/analyze_wsl.py

# åªåˆ†æUbuntu
python tools/analyze_wsl.py --ubuntu

# åªåˆ†æDocker
python tools/analyze_wsl.py --docker

# æ˜¾ç¤ºæ¸…ç†å‘½ä»¤
python tools/analyze_wsl.py --cleanup
```

### 3. æ‰¹å¤„ç†è„šæœ¬ï¼ˆWindowsï¼‰

ç›´æ¥åŒå‡»è¿è¡Œ `tools/analyze_wsl.bat` è¿›è¡Œå¿«é€Ÿåˆ†æã€‚

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

### åŸºæœ¬æŠ¥å‘Š

```
======================================================================
ğŸ“Š ç£ç›˜ä½¿ç”¨åˆ†ææŠ¥å‘Š - C:\Users\username
======================================================================

ğŸ“ˆ æ€»è§ˆ:
  æ€»å¤§å°: 800.9 GB
  æ–‡ä»¶æ•°: 2,116,211
  ç›®å½•æ•°: 333,668

ğŸ“ æœ€å¤§çš„æ–‡ä»¶å¤¹ (Top 10):
----------------------------------------------------------------------
   1. Program Files/Steam/games                 138.3 GB  17.3% â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘
   2. AppData/Local/Packages/Ubuntu              151.3 GB  18.9% â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘
   3. AppData/Local/Docker                      100.4 GB  12.5% â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘
   4. Downloads                                  16.8 GB   2.1% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
   ...

ğŸ“„ æœ€å¤§çš„æ–‡ä»¶ (Top 10):
----------------------------------------------------------------------
   1. AppData/.../ext4.vhdx                               151.3 GB
   2. Program Files/.../docker_data.vhdx                  100.4 GB
   3. pagefile.sys                                          22.0 GB
   ...

ğŸ“Š æ–‡ä»¶ç±»å‹ç»Ÿè®¡ (Top 10):
----------------------------------------------------------------------
   1. .vhdx                                    252.4 GB  31.5% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
   2. .pak                                     141.2 GB  17.6% â–ˆâ–ˆâ–ˆ
   3. .dll                                      69.6 GB   8.7% â–ˆâ–ˆ
   ...
```

### é‡å¤æ–‡ä»¶æŠ¥å‘Š

```
ğŸ” é‡å¤æ–‡ä»¶æ£€æµ‹ (Top 10)
======================================================================

ğŸ“Œ é‡å¤ç»„ #1 (3 ä¸ªæ–‡ä»¶, å„ 1.2 GB)
   âš ï¸  å¯èŠ‚çœ: 2.4 GB
      1. Downloads/backup.zip
      2. Documents/backup copy.zip
      3. .temp/backup.zip

ğŸ“Œ é‡å¤ç»„ #2 (2 ä¸ªæ–‡ä»¶, å„ 450 MB)
   âš ï¸  å¯èŠ‚çœ: 450 MB
      1. Videos/movie.mp4
      2. Backup/movie.mp4

----------------------------------------------------------------------
ğŸ’° æ€»è®¡å¯èŠ‚çœç©ºé—´: 2.9 GB
======================================================================
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
disk_usage_analyzer/
â”œâ”€â”€ disk_analyzer.py          # æ ¸å¿ƒåˆ†æå¼•æ“
â”œâ”€â”€ platform_handler.py       # è·¨å¹³å°æŠ½è±¡å±‚ï¼ˆå¹³å°é€‚é…ï¼‰
â”œâ”€â”€ reporter.py               # æŠ¥å‘Šç”Ÿæˆå™¨
â”œâ”€â”€ main.py                   # CLI å…¥å£
â”œâ”€â”€ tools/                    # è¾…åŠ©å·¥å…·
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ clean_rust.py         # Rustæ¸…ç†å·¥å…·
â”‚   â”œâ”€â”€ analyze_wsl.py        # WSLåˆ†æå·¥å…·
â”‚   â”œâ”€â”€ analyze_wsl_simple.py # ç®€åŒ–ç‰ˆWSLå·¥å…·
â”‚   â””â”€â”€ analyze_wsl.bat       # Windowsæ‰¹å¤„ç†è„šæœ¬
â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ LICENSE                   # MITè®¸å¯è¯
```

## ğŸŒ è·¨å¹³å°æ”¯æŒ

æœ¬é¡¹ç›®é€šè¿‡ `platform_handler.py` æä¾›äº†å®Œæ•´çš„è·¨å¹³å°æŠ½è±¡å±‚ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒæ“ä½œç³»ç»Ÿçš„ç‰¹æ€§ã€‚

### æ”¯æŒçš„å¹³å°

| å¹³å° | æ”¯æŒçŠ¶æ€ | ç‰¹æ®ŠåŠŸèƒ½ |
|------|---------|---------|
| **Windows** | âœ… å®Œå…¨æ”¯æŒ | UTF-8æ§åˆ¶å°è¾“å‡ºã€ç³»ç»Ÿç›®å½•è·³è¿‡ |
| **Linux** | âœ… å®Œå…¨æ”¯æŒ | ç¬¦å·é“¾æ¥å¤„ç†ã€inodeä¼˜åŒ–ã€ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿè·³è¿‡ |
| **macOS** | âœ… å®Œå…¨æ”¯æŒ | ç»§æ‰¿Linuxç‰¹æ€§ã€macOSç‰¹æœ‰è·¯å¾„å¤„ç† |

### å¹³å°å·®å¼‚å¤„ç†

#### Linux ç‰¹æ€§

1. **ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿè‡ªåŠ¨è·³è¿‡**
   - è‡ªåŠ¨æ£€æµ‹å¹¶è·³è¿‡ `/proc`, `/sys`, `/dev`, `/run` ç­‰è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
   - é€šè¿‡è¯»å– `/proc/mounts` åŠ¨æ€è¯†åˆ«ç‰¹æ®ŠæŒ‚è½½ç‚¹
   - é¿å…æ‰«ææ— é™å¤§å°çš„è™šæ‹Ÿæ–‡ä»¶ï¼ˆå¦‚ `/dev/null`ï¼‰

2. **ç¬¦å·é“¾æ¥å¤„ç†**
   - ä½¿ç”¨ `lstat()` è·å–é“¾æ¥æœ¬èº«ä¿¡æ¯
   - ç»Ÿè®¡ç¬¦å·é“¾æ¥æ•°é‡ï¼Œå¯é€‰æ˜¯å¦è·³è¿‡
   - è·å–é“¾æ¥ç›®æ ‡è·¯å¾„

3. **inode ä¼˜åŒ–**
   - é‡å¤æ–‡ä»¶æ£€æµ‹æ—¶åˆ©ç”¨inodeå¿«é€Ÿè¯†åˆ«ç¡¬é“¾æ¥
   - é¿å…å¯¹ç¡¬é“¾æ¥é‡å¤è®¡ç®—å“ˆå¸Œå€¼
   - æ˜¾è‘—æå‡æ£€æµ‹é€Ÿåº¦

#### Windows ç‰¹æ€§

1. **æ§åˆ¶å°ç¼–ç **
   - è‡ªåŠ¨è®¾ç½® UTF-8 ç¼–ç è¾“å‡º
   - æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦

2. **ç³»ç»Ÿç›®å½•è·³è¿‡**
   - è‡ªåŠ¨è·³è¿‡ `System Volume Information`
   - è‡ªåŠ¨è·³è¿‡ `$RECYCLE.BIN` å›æ”¶ç«™
   - è‡ªåŠ¨è·³è¿‡éšè—æ–‡ä»¶/ç›®å½•

3. **æ ‡å‡†æ–‡ä»¶ç³»ç»Ÿ**
   - ä½¿ç”¨æ ‡å‡† Windows API
   - æ—  inode æ¦‚å¿µï¼Œä½¿ç”¨å“ˆå¸Œå€¼è¿›è¡Œé‡å¤æ£€æµ‹

#### macOS ç‰¹æ€§

1. **ç»§æ‰¿ Linux ç‰¹æ€§**
   - æ”¯æŒç¬¦å·é“¾æ¥å’Œ inode
   - Unix-like æ–‡ä»¶ç³»ç»Ÿ

2. **macOS ç‰¹æœ‰è·¯å¾„**
   - è·³è¿‡ Spotlight ç´¢å¼• `/.Spotlight-V100`
   - è·³è¿‡æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ `/.fseventsd`
   - è·³è¿‡å›æ”¶ç«™ `/.Trashes`
   - å¤„ç†ç½‘ç»œå· `/Volumes`

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DiskAnalyzer (æ ¸å¿ƒå¼•æ“)          â”‚
â”‚  - æ‰«æã€ç»Ÿè®¡ã€ç¼“å­˜ã€é‡å¤æ£€æµ‹         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ ä½¿ç”¨ç»Ÿä¸€çš„æŠ½è±¡æ¥å£
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PlatformHandler (æŠ½è±¡åŸºç±»)         â”‚
â”‚  - should_skip_path()               â”‚
â”‚  - get_file_info()                  â”‚
â”‚  - supports_inodes()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚               â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ WindowsHandlerâ”‚LinuxHandlerâ”‚ MacOSHandlerâ”‚
â”‚  - UTF-8    â”‚  - inode   â”‚  - ç»§æ‰¿Linuxâ”‚
â”‚  - ç³»ç»Ÿç›®å½•  â”‚  - ç¬¦å·é“¾æ¥ â”‚  - ç‰¹æ®Šè·¯å¾„â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰©å±•æ€§

å¦‚éœ€æ”¯æŒæ–°å¹³å°æˆ–è‡ªå®šä¹‰è¡Œä¸ºï¼Œåªéœ€ï¼š

1. ç»§æ‰¿ `PlatformHandler` æŠ½è±¡ç±»
2. å®ç°å¿…è¦çš„æŠ½è±¡æ–¹æ³•
3. åœ¨ `get_platform_handler()` ä¸­æ·»åŠ å¹³å°æ£€æµ‹é€»è¾‘

ç¤ºä¾‹ï¼š
```python
class CustomHandler(PlatformHandler):
    def should_skip_path(self, path: Path) -> bool:
        # è‡ªå®šä¹‰è·¯å¾„è¿‡æ»¤é€»è¾‘
        return False

    def get_file_info(self, path: Path) -> Optional[FileInfo]:
        # è‡ªå®šä¹‰æ–‡ä»¶ä¿¡æ¯è·å–
        return FileInfo(...)
```

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯
- **æ‰«æå¼•æ“**: ä½¿ç”¨ `os.walk()` é«˜æ•ˆéå†ç›®å½•æ ‘
- **å¹³å°æŠ½è±¡**: `PlatformHandler` æŠ½è±¡å±‚å°è£…å¹³å°å·®å¼‚
  - ç­–ç•¥æ¨¡å¼ï¼šä¸åŒå¹³å°ä½¿ç”¨ä¸åŒçš„å®ç°ç­–ç•¥
  - å•ä¾‹æ¨¡å¼ï¼šå…¨å±€å…±äº«å¹³å°å¤„ç†å™¨å®ä¾‹
  - å·¥å‚æ¨¡å¼ï¼šæ ¹æ® `sys.platform` è‡ªåŠ¨åˆ›å»ºå¯¹åº”å¤„ç†å™¨
- **ç¼“å­˜æœºåˆ¶**: ä½¿ç”¨ `pickle` åºåˆ—åŒ–æ‰«æç»“æœï¼ŒåŸºäºè·¯å¾„å“ˆå¸Œå­˜å‚¨
- **é‡å¤æ£€æµ‹**:
  - **Linux/macOS**: ä½¿ç”¨ inode å¿«é€Ÿè¯†åˆ«ç¡¬é“¾æ¥ + MD5 å“ˆå¸Œ
  - **Windows**: æ–‡ä»¶å¤§å°é¢„ç­›é€‰ + MD5 å“ˆå¸Œ
- **å¯¼å‡ºåŠŸèƒ½**:
  - CSV: ä½¿ç”¨ `csv` æ¨¡å—ï¼ˆUTF-8-BOMç¼–ç ï¼ŒExcelå…¼å®¹ï¼‰
  - JSON: ä½¿ç”¨ `json` æ¨¡å—ï¼ŒåŒ…å«å®Œæ•´ç»Ÿè®¡ä¿¡æ¯

### å¹³å°é€‚é…å±‚

**platform_handler.py** æä¾›çš„æ ¸å¿ƒæ¥å£ï¼š

```python
class PlatformHandler(ABC):
    @abstractmethod
    def should_skip_path(self, path: Path) -> bool:
        """åˆ¤æ–­æ˜¯å¦åº”è¯¥è·³è¿‡æŸä¸ªè·¯å¾„"""

    @abstractmethod
    def get_file_info(self, path: Path) -> Optional[FileInfo]:
        """è·å–æ–‡ä»¶ä¿¡æ¯ï¼Œå¦‚æœæ— æ³•è®¿é—®è¿”å›None"""

    @abstractmethod
    def supports_inodes(self) -> bool:
        """æ˜¯å¦æ”¯æŒinodeä¿¡æ¯"""
```

**ç»Ÿä¸€çš„æ–‡ä»¶ä¿¡æ¯ç»“æ„**ï¼š
```python
@dataclass
class FileInfo:
    path: Path              # æ–‡ä»¶è·¯å¾„
    size: int               # æ–‡ä»¶å¤§å°
    mtime: float            # ä¿®æ”¹æ—¶é—´
    is_symlink: bool        # æ˜¯å¦ç¬¦å·é“¾æ¥
    inode: Optional[int]    # inodeå·ï¼ˆLinux/macOSï¼‰
    mode: Optional[int]     # æ–‡ä»¶æƒé™
    target: Optional[Path]  # ç¬¦å·é“¾æ¥ç›®æ ‡
```

### æ€§èƒ½ä¼˜åŒ–
- ä»…åœ¨å†…å­˜ä¸­ä¿ç•™å¿…è¦ä¿¡æ¯ï¼ˆè·¯å¾„ã€å¤§å°ã€ä¿®æ”¹æ—¶é—´ï¼‰
- ä½¿ç”¨ç”Ÿæˆå™¨å¤„ç†å¤§å‹ç›®å½•
- æ™ºèƒ½ç¼“å­˜é¿å…é‡å¤æ‰«æ
- inodeä¼˜åŒ–é¿å…é‡å¤å“ˆå¸Œè®¡ç®—ï¼ˆLinux/macOSï¼‰
- MD5è®¡ç®—ä»…åœ¨éœ€è¦æ—¶è¿›è¡Œ

## ğŸ›£ï¸ å¼€å‘è·¯çº¿

### å·²å®Œæˆ (v1.2)
- [x] åŸºç¡€æ‰«æå’Œç»Ÿè®¡åŠŸèƒ½
- [x] ç»ˆç«¯å¯è§†åŒ–æŠ¥å‘Š
- [x] CSV/JSON å¯¼å‡º
- [x] é‡å¤æ–‡ä»¶æ£€æµ‹
- [x] ç¼“å­˜æœºåˆ¶åŠ é€ŸäºŒæ¬¡æ‰«æ
- [x] Rustæ¸…ç†å·¥å…·
- [x] WSLåˆ†æå·¥å…·
- [x] **è·¨å¹³å°æ¶æ„é‡æ„** (v1.2)
  - [x] PlatformHandler æŠ½è±¡å±‚
  - [x] Linux ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿæ”¯æŒ
  - [x] ç¬¦å·é“¾æ¥å¤„ç†
  - [x] inode ä¼˜åŒ–é‡å¤æ£€æµ‹
  - [x] Windows UTF-8 æ§åˆ¶å°æ”¯æŒ
  - [x] macOS ç‰¹æœ‰è·¯å¾„å¤„ç†

### è®¡åˆ’ä¸­
- [ ] HTMLå¯è§†åŒ–æŠ¥å‘Š
- [ ] å¿½ç•¥åˆ—è¡¨é…ç½®æ–‡ä»¶
- [ ] å®šæ—¶æ‰«æå’ŒæŠ¥å‘Š
- [ ] Webç•Œé¢
- [ ] å®æ—¶ç›‘æ§æ¨¡å¼
- [ ] äº‘å­˜å‚¨æ”¯æŒ
- [ ] æ–‡ä»¶å¹´é¾„åˆ†æ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤é—®é¢˜æˆ–æ‹‰å–è¯·æ±‚ã€‚

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯æ‹‰å–è¯·æ±‚

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¨â€ğŸ’» ä½œè€…

**coo** - [@coo-2022](https://github.com/coo-2022)

## ğŸ™ è‡´è°¢

- çµæ„Ÿæ¥æºäº [ncdu](https://dev.yorhel.nl/ncdu) å’Œ [WinDirStat](https://windirstat.net/)
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…

## ğŸ“§ è”ç³»æ–¹å¼

- GitHub Issues: [æäº¤é—®é¢˜](https://github.com/coo-2022/DiskUsageAnalyzer/issues)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªâ­ï¸**

Made with â¤ï¸ by [coo](https://github.com/coo-2022)

</div>
